<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inorganic Chem Battle</title>
    <style>
        /* --- CSSã‚¨ãƒªã‚¢ --- */
        
        /* ãƒ™ãƒ¼ã‚¹è¨­å®š */
        body {
            background: linear-gradient(135deg, #121212, #1a2a6c);
            min-height: 100vh;
            font-family: 'Helvetica Neue', Arial, sans-serif;
            margin: 0;
            padding: 0;
            color: #fff;
            overflow-x: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* ç”»é¢åˆ‡ã‚Šæ›¿ãˆç”¨ */
        .screen {
            width: 100%;
            max-width: 1000px;
            padding: 20px;
            box-sizing: border-box;
            display: flex;
            flex-direction: column;
            align-items: center;
            animation: fadeIn 0.5s ease;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* â–¼â–¼â–¼ ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆï¼šã‚¿ã‚¤ãƒˆãƒ«æ–‡å­— â–¼â–¼â–¼ */
        .app-title {
            font-size: 3rem;
            font-weight: 900;
            text-align: center;
            margin: 40px 0 10px;
            letter-spacing: 2px;
            
            /* ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³è¨­å®š */
            background: linear-gradient(to bottom, #fff, #aaa);
            
            /* æ¨™æº–ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ï¼ˆã“ã‚Œã‚’è¶³ã™ã¨è­¦å‘ŠãŒæ¶ˆãˆã‚‹ï¼‰ */
            background-clip: text;
            color: transparent;

            /* ãƒ™ãƒ³ãƒ€ãƒ¼ãƒ—ãƒ¬ãƒ•ã‚£ãƒƒã‚¯ã‚¹ï¼ˆChrome/Safariç”¨ï¼‰ */
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .subtitle {
            text-align: center;
            color: #888;
            margin-bottom: 40px;
        }

        /* ãƒ¢ãƒ¼ãƒ‰é¸æŠãƒœã‚¿ãƒ³ */
        .mode-select-container {
            display: flex;
            flex-direction: column;
            gap: 20px;
            width: 100%;
            max-width: 400px;
        }
        .mode-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 20px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s, background 0.2s;
            text-align: left;
            color: white;
        }
        .mode-card:hover {
            transform: scale(1.03);
            background: rgba(255,255,255,0.15);
        }
        .mode-icon {
            font-size: 2.5rem;
            margin-right: 20px;
            width: 60px; height: 60px;
            border-radius: 50%;
            background: rgba(0,0,0,0.3);
            display: flex; justify-content: center; align-items: center;
        }
        .solo-mode .mode-icon { color: #00d2ff; }
        .online-mode .mode-icon { color: #ff4b2b; }

        /* ã‚¨ãƒªã‚¢é¸æŠ */
        .stage-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            width: 100%;
            max-width: 600px;
        }
        .stage-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 15px;
            padding: 15px;
            display: flex;
            align-items: center;
            cursor: pointer;
            transition: 0.2s;
        }
        .stage-card:hover { transform: scale(1.05); background: rgba(255,255,255,0.15); }
        .stage-icon {
            width: 40px; height: 40px;
            background: linear-gradient(135deg, #00d2ff, #3a7bd5);
            border-radius: 10px;
            display: flex; justify-content: center; align-items: center;
            font-weight: bold; margin-right: 10px;
            text-shadow: none;
        }

        /* ãƒãƒˆãƒ«ç”»é¢ */
        .battle-header {
            width: 100%; max-width: 800px;
            display: flex; justify-content: space-between;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 10px;
        }
        .battle-field {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
        }
        @media (min-width: 768px) {
            .battle-field { flex-direction: row; align-items: flex-start; }
        }

        /* ã‚«ãƒ¼ãƒ‰ãƒ‡ã‚¶ã‚¤ãƒ³ */
        .chem-card {
            width: 300px;
            padding: 20px;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            display: flex; flex-direction: column;
            transition: transform 0.3s;
        }
        .card-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
        
        /* â–¼â–¼â–¼ ä¿®æ­£ãƒã‚¤ãƒ³ãƒˆï¼šã‚«ãƒ¼ãƒ‰åã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ â–¼â–¼â–¼ */
        .card-name { 
            margin: 0; 
            font-size: 1.4rem; 
            font-weight: bold;
            
            /* ã“ã“ã‚‚æ¨™æº–å¯¾å¿œã‚’è¿½åŠ  */
            background: linear-gradient(to right, #fff, #bbb);
            background-clip: text;
            color: transparent;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .card-hp { color: #ff6b6b; font-weight: bold; }
        .card-image {
            width: 100%; height: 160px;
            background: rgba(0,0,0,0.3);
            border-radius: 10px; margin-bottom: 10px;
            overflow: hidden;
            display: flex; justify-content: center; align-items: center;
        }
        .card-image img { width: 100%; height: 100%; object-fit: cover; }

        /* ã‚¨ãƒãƒ«ã‚®ãƒ¼è¡¨ç¤º */
        .energy-display {
            display: flex; align-items: center; justify-content: space-between;
            background: rgba(0,0,0,0.5);
            padding: 5px 10px;
            border-radius: 10px;
            margin-bottom: 10px;
        }
        .energy-label { font-size: 0.7rem; color: #ffd700; font-weight: bold; }
        .energy-slots { display: flex; gap: 5px; }
        .energy-dot {
            width: 12px; height: 12px;
            border-radius: 50%;
            background: #333;
            border: 1px solid #555;
        }
        .energy-dot.filled {
            background: radial-gradient(circle, #ffd700, #ff8c00);
            box-shadow: 0 0 8px #ffd700;
            border: 1px solid #fff;
        }

        /* æŠ€ãƒœã‚¿ãƒ³ */
        .skill-btn {
            width: 100%;
            background: none; border: none;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding: 10px 5px;
            display: flex; align-items: center;
            color: white; cursor: pointer;
            text-align: left;
        }
        .skill-btn:hover { background: rgba(255,255,255,0.1); }
        .skill-btn:disabled { opacity: 0.3; cursor: not-allowed; }
        .skill-cost { color: #ffd700; margin-right: 10px; letter-spacing: -2px; width: 30px; font-size: 0.8rem; }
        .skill-info h3 { margin: 0; font-size: 0.9rem; }
        .skill-info span { font-size: 0.7rem; color: #aaa; }

        /* ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ */
        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25%, 75% { transform: translateX(-5px); }
          50% { transform: translateX(5px); }
        }
        .shake { animation: shake 0.4s; border-color: red !important; }

        .vs-sign { font-size: 2rem; font-weight: bold; font-style: italic; color: #ff0055; margin: 10px; }

        /* ã‚¯ã‚¤ã‚ºãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex; justify-content: center; align-items: center;
            z-index: 100;
            backdrop-filter: blur(5px);
        }
        .quiz-card {
            background: #1a2a6c;
            border: 2px solid #00d2ff;
            padding: 20px;
            border-radius: 20px;
            width: 90%; max-width: 400px;
            text-align: center;
            box-shadow: 0 0 30px rgba(0, 210, 255, 0.5);
        }
        .quiz-options { display: flex; flex-direction: column; gap: 10px; margin: 15px 0; }
        .option-btn {
            padding: 12px;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.3);
            color: white;
            border-radius: 10px;
            cursor: pointer;
        }
        .option-btn.correct { background: #28a745; border-color: #28a745; }
        .option-btn.wrong { background: #dc3545; border-color: #dc3545; }

        /* æ±ç”¨ãƒœã‚¿ãƒ³ */
        .back-btn { background: transparent; border: 1px solid #aaa; color: #aaa; padding: 5px 15px; border-radius: 20px; cursor: pointer; }
        .back-text-btn { background: none; border: none; color: #aaa; text-decoration: underline; cursor: pointer; margin-top: 10px; }
        .lobby-container { background: rgba(0,0,0,0.5); padding: 30px; border-radius: 20px; text-align: center; }
        .lobby-btn { padding: 10px 20px; margin: 5px; border: none; border-radius: 5px; color: white; cursor: pointer; }
        .create { background: #00d2ff; }
        .join { background: #ff4b2b; }
        #room-id-input { padding: 10px; font-size: 1.2rem; text-align: center; margin: 10px 0; border-radius: 5px; border: none; }
    </style>
</head>
<body>

    <div id="title-screen" class="screen" style="display: flex;">
        <h1 class="app-title">CHEMISTRY<br>POCKET</h1>
        <p class="subtitle">é«˜æ ¡ç„¡æ©ŸåŒ–å­¦ å®Œå…¨æ”»ç•¥</p>

        <div class="mode-select-container">
            <button class="mode-card solo-mode" onclick="selectMode('cpu')">
                <div class="mode-icon">ğŸ‘¤</div>
                <div class="mode-text">
                    <h3>ã‚½ãƒ­ã‚¯ã‚¨ã‚¹ãƒˆ</h3>
                    <p>CPUã¨å¯¾æˆ¦ã—ã¦å­¦ç¿’</p>
                </div>
            </button>

            <button class="mode-card online-mode" onclick="selectMode('online')">
                <div class="mode-icon">ğŸ“¡</div>
                <div class="mode-text">
                    <h3>é€šä¿¡å¯¾æˆ¦</h3>
                    <p>ãƒ«ãƒ¼ãƒ IDã§å‹é”ã¨å‹è² </p>
                </div>
            </button>
        </div>
    </div>

    <div id="lobby-screen" class="screen" style="display: none;">
        <h2>é€šä¿¡ãƒ«ãƒ¼ãƒ å…¥å®¤</h2>
        <div class="lobby-container">
            <p>å‹é”ã¨åŒã˜IDã‚’å…¥åŠ›</p>
            <input type="text" id="room-id-input" placeholder="ä¾‹: 1234" maxlength="4">
            <div class="lobby-buttons">
                <button class="lobby-btn create" onclick="enterRoom('create')">ä½œæˆ</button>
                <button class="lobby-btn join" onclick="enterRoom('join')">å‚åŠ </button>
            </div>
            <button class="back-text-btn" onclick="goTitle()">æˆ»ã‚‹</button>
        </div>
    </div>

    <div id="area-select-screen" class="screen" style="display: none;">
        <div class="header-nav">
            <button class="back-text-btn" onclick="goTitle()">TOPã¸</button>
            <h2>ã‚¨ãƒªã‚¢é¸æŠ</h2>
        </div>
        
        <div class="stage-grid">
            <div class="stage-card" onclick="startGame('halogen')">
                <div class="stage-icon">Cl</div>
                <div class="stage-info"><h3>17æ—ãƒ»ãƒãƒ­ã‚²ãƒ³</h3></div>
            </div>
            <div class="stage-card" onclick="startGame('sulfur')">
                <div class="stage-icon">S</div>
                <div class="stage-info"><h3>é…¸ç´ ãƒ»ç¡«é»„</h3></div>
            </div>
            <div class="stage-card" onclick="startGame('gas')">
                <div class="stage-icon">Gas</div>
                <div class="stage-info"><h3>æ°—ä½“ã®è£½æ³•</h3></div>
            </div>
            <div class="stage-card" onclick="startGame('transition')">
                <div class="stage-icon">Fe</div>
                <div class="stage-info"><h3>é·ç§»é‡‘å±</h3></div>
            </div>
        </div>
    </div>

    <div id="battle-screen" class="screen" style="display: none;">
        <div class="battle-header">
            <button class="back-btn" onclick="goTitle()">æ’¤é€€</button>
            <span id="battle-info-text">VS CPU</span>
        </div>

        <div class="battle-field">
            <div class="chem-card acid-type enemy-card">
                <div class="card-header">
                    <h2 class="card-name">æ•µç‰©è³ª</h2>
                    <span class="card-hp">HP <span class="hp-value">100</span></span>
                </div>
                <div class="card-image">
                    <img src="https://placehold.co/280x160/222/FFF?text=Enemy" alt="æ•µ">
                </div>
                <div class="type-badge">BOSS</div>
            </div>

            <div class="vs-sign">VS</div>

            <div class="chem-card organic-type player-card">
                <div class="card-header">
                    <h2 class="card-name">YOU</h2>
                    <span class="card-hp">HP <span class="hp-value">100</span></span>
                </div>
                
                <div class="energy-display">
                    <span class="energy-label">ENERGY:</span>
                    <div id="player-energy" class="energy-slots">
                        <span class="energy-dot empty"></span>
                        <span class="energy-dot empty"></span>
                        <span class="energy-dot empty"></span>
                    </div>
                </div>

                <div class="card-image">
                    <img src="https://placehold.co/280x160/0055aa/FFF?text=YOU" alt="è‡ªåˆ†">
                </div>
                
                <div class="skills-section">
                    <button class="skill-btn" onclick="useSkill(1, 20)">
                        <div class="skill-cost">â—</div>
                        <div class="skill-info">
                            <h3>åŸºæœ¬æ”»æ’ƒ</h3>
                            <span>å¨åŠ› 20</span>
                        </div>
                    </button>
                    <button class="skill-btn" onclick="useSkill(2, 50)">
                        <div class="skill-cost">â—â—</div>
                        <div class="skill-info">
                            <h3>ã‚¹ãƒšã‚·ãƒ£ãƒ«æŠ€</h3>
                            <span>å¨åŠ› 50</span>
                        </div>
                    </button>
                </div>
                
                <div class="flavor-text">
                    <p id="turn-message">ã‚¯ã‚¤ã‚ºã«ç­”ãˆã¦ã‚¨ãƒãƒ«ã‚®ãƒ¼ã‚’æºœã‚ã‚ï¼</p>
                </div>
            </div>
        </div>

        <div id="quiz-modal" class="modal-overlay" style="display: none;">
            <div class="quiz-card">
                <h3 class="quiz-title">ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒãƒ£ãƒ¼ã‚¸ï¼</h3>
                <p id="quiz-question">ã“ã“ã«å•é¡Œæ–‡</p>
                <div id="quiz-options" class="quiz-options"></div>
                <p id="quiz-feedback" class="quiz-feedback"></p>
            </div>
        </div>
    </div>

    <script>
        // --- ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿ ---
        const quizData = {
            halogen: [
                { q: "å¸¸æ¸©ã§æ¶²ä½“ã®ãƒãƒ­ã‚²ãƒ³ã¯ï¼Ÿ", options: ["ãƒ•ãƒƒç´ ", "å¡©ç´ ", "è‡­ç´ ", "ãƒ¨ã‚¦ç´ "], ans: 2 },
                { q: "ãƒ•ãƒƒåŒ–æ°´ç´ é…¸ãŒæº¶ã‹ã™ã‚‚ã®ã¯ï¼Ÿ", options: ["é‡‘", "ã‚¬ãƒ©ã‚¹", "ã‚´ãƒ ", "ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯"], ans: 1 },
                { q: "é…¸åŒ–åŠ›ãŒæœ€ã‚‚å¼·ã„ã®ã¯ï¼Ÿ", options: ["Fâ‚‚", "Clâ‚‚", "Brâ‚‚", "Iâ‚‚"], ans: 0 }
            ],
            sulfur: [
                { q: "æ¥è§¦æ³•ã®è§¦åª’ã¯ï¼Ÿ", options: ["é…¸åŒ–ãƒãƒŠã‚¸ã‚¦ãƒ (V)", "ç™½é‡‘", "é‰„", "éŠ…"], ans: 0 },
                { q: "è…åµè‡­ã‚’æŒã¤æ°—ä½“ã¯ï¼Ÿ", options: ["SOâ‚‚", "Hâ‚‚S", "Oâ‚ƒ", "SOâ‚ƒ"], ans: 1 }
            ],
            default: [
                { q: "åŸå­ç•ªå·1ç•ªã®å…ƒç´ ã¯ï¼Ÿ", options: ["He", "H", "Li", "Be"], ans: 1 },
                { q: "ç‚è‰²åå¿œã§èµ¤è‰²ã‚’ç¤ºã™ã®ã¯ï¼Ÿ", options: ["Na", "Cu", "Li", "K"], ans: 2 }
            ]
        };

        // --- å¤‰æ•° ---
        let playerEnergy = 0;
        let isOnlineMode = false;
        let currentAreaId = 'default';

        // --- ç”»é¢ç®¡ç† ---
        const screens = {
            title: document.getElementById('title-screen'),
            lobby: document.getElementById('lobby-screen'),
            areaSelect: document.getElementById('area-select-screen'),
            battle: document.getElementById('battle-screen')
        };

        function showScreen(name) {
            Object.values(screens).forEach(s => s.style.display = 'none');
            screens[name].style.display = 'flex';
        }

        // --- ãƒ¢ãƒ¼ãƒ‰é¸æŠãªã© ---
        function selectMode(mode) {
            if (mode === 'cpu') {
                isOnlineMode = false;
                showScreen('areaSelect');
            } else {
                isOnlineMode = true;
                showScreen('lobby');
            }
        }

        function goTitle() {
            showScreen('title');
        }

        function enterRoom(action) {
            const roomId = document.getElementById('room-id-input').value;
            if (!roomId) { alert("IDã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"); return; }
            alert(`ãƒ«ãƒ¼ãƒ  ${roomId} ã«å…¥å®¤ã—ã¾ã—ãŸï¼ˆé€šä¿¡ã¯æœªå®Ÿè£…ï¼‰`);
            startGame('online');
        }

        // --- ãƒãƒˆãƒ«é–‹å§‹ ---
        function startGame(areaId) {
            showScreen('battle');
            currentAreaId = areaId;
            playerEnergy = 0;
            updateEnergyUI();
            checkSkillsAvailability();

            // æ•µåã®è¨­å®š
            const enemyName = document.querySelector('.enemy-card .card-name');
            if (areaId === 'halogen') enemyName.innerText = "å¡©ç´  (Clâ‚‚)";
            else if (areaId === 'sulfur') enemyName.innerText = "æ¿ƒç¡«é…¸";
            else enemyName.innerText = "è¬ã®ç‰©è³ª";

            document.getElementById('turn-message').innerText = "ã‚¯ã‚¤ã‚ºã«ç­”ãˆã¦ãƒãƒ£ãƒ¼ã‚¸ã›ã‚ˆï¼";

            // 1ç§’å¾Œã«ã‚¯ã‚¤ã‚ºé–‹å§‹ï¼ˆãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ã‚¿ãƒ¼ãƒ³ï¼‰
            if(!isOnlineMode) {
                setTimeout(startPlayerTurn, 1000);
            }
        }

        // --- ã‚¿ãƒ¼ãƒ³å‡¦ç†ï¼ˆã‚¯ã‚¤ã‚ºï¼‰ ---
        function startPlayerTurn() {
            const questions = quizData[currentAreaId] || quizData['default'];
            const question = questions[Math.floor(Math.random() * questions.length)];
            showQuizModal(question);
        }

        function showQuizModal(qObj) {
            const modal = document.getElementById('quiz-modal');
            document.getElementById('quiz-question').innerText = qObj.q;
            const optsDiv = document.getElementById('quiz-options');
            optsDiv.innerHTML = '';
            document.getElementById('quiz-feedback').innerText = '';
            modal.style.display = 'flex';

            qObj.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = 'option-btn';
                btn.innerText = opt;
                btn.onclick = () => checkAnswer(idx, qObj.ans, btn);
                optsDiv.appendChild(btn);
            });
        }

        function checkAnswer(idx, ans, btn) {
            const fb = document.getElementById('quiz-feedback');
            const allBtns = document.querySelectorAll('.option-btn');
            allBtns.forEach(b => b.disabled = true);

            if (idx === ans) {
                btn.classList.add('correct');
                fb.innerText = "æ­£è§£ï¼ãƒãƒ£ãƒ¼ã‚¸å®Œäº†ï¼";
                fb.style.color = "#00d2ff";
                playerEnergy++;
                if(playerEnergy > 3) playerEnergy = 3;
            } else {
                btn.classList.add('wrong');
                fb.innerText = "ä¸æ­£è§£...";
                fb.style.color = "#ff4b2b";
            }

            updateEnergyUI();
            
            setTimeout(() => {
                document.getElementById('quiz-modal').style.display = 'none';
                checkSkillsAvailability();
                document.getElementById('turn-message').innerText = "æŠ€ã‚’é¸æŠã—ã¦æ”»æ’ƒã ï¼";
            }, 1500);
        }

        // --- ã‚¨ãƒãƒ«ã‚®ãƒ¼ãƒ»æŠ€ ---
        function updateEnergyUI() {
            const dots = document.querySelectorAll('.energy-dot');
            dots.forEach((dot, i) => {
                if (i < playerEnergy) {
                    dot.classList.add('filled');
                    dot.classList.remove('empty');
                } else {
                    dot.classList.remove('filled');
                    dot.classList.add('empty');
                }
            });
        }

        function checkSkillsAvailability() {
            const btns = document.querySelectorAll('.skill-btn');
            if(btns[0]) btns[0].disabled = (playerEnergy < 1);
            if(btns[1]) btns[1].disabled = (playerEnergy < 2);
        }

        function useSkill(cost, damage) {
            if (playerEnergy < cost) return;
            
            playerEnergy -= cost;
            updateEnergyUI();
            checkSkillsAvailability();

            // ãƒ€ãƒ¡ãƒ¼ã‚¸å‡¦ç†
            const enemyHpSpan = document.querySelector('.enemy-card .hp-value');
            let hp = parseInt(enemyHpSpan.innerText);
            hp -= damage;
            if (hp < 0) hp = 0;
            enemyHpSpan.innerText = hp;

            // æ¼”å‡º
            const enemyCard = document.querySelector('.enemy-card');
            enemyCard.classList.add('shake');
            setTimeout(() => enemyCard.classList.remove('shake'), 400);

            // æ•µã®ã‚¿ãƒ¼ãƒ³ã¸
            if (hp > 0) {
                document.getElementById('turn-message').innerText = "æ•µã®ã‚¿ãƒ¼ãƒ³...";
                setTimeout(cpuAttack, 1500);
            } else {
                alert("å‹åˆ©ï¼çµåˆã‚’ç ´å£Šã—ã¾ã—ãŸï¼");
                goTitle();
            }
        }

        function cpuAttack() {
            const myHpSpan = document.querySelector('.player-card .hp-value');
            let hp = parseInt(myHpSpan.innerText);
            hp -= 15;
            if (hp < 0) hp = 0;
            myHpSpan.innerText = hp;

            const myCard = document.querySelector('.player-card');
            myCard.classList.add('shake');
            setTimeout(() => myCard.classList.remove('shake'), 400);

            if (hp > 0) {
                document.getElementById('turn-message').innerText = "ã‚ãªãŸã®ã‚¿ãƒ¼ãƒ³ï¼";
                setTimeout(startPlayerTurn, 1000);
            } else {
                alert("æ•—åŒ—...å®Ÿé¨“å¤±æ•—...");
                goTitle();
            }
        }
    </script>
</body>
</html>